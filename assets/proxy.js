(()=>{var __webpack_modules__={"./src/scripts/proxy.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _sections_CustomAppProxy_class_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sections/CustomAppProxy.class.js */ \"./src/scripts/sections/CustomAppProxy.class.js\");\n/* harmony import */ var _sections_CustomAppProxy_class_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_sections_CustomAppProxy_class_js__WEBPACK_IMPORTED_MODULE_0__);\n\n\n// INIT\n// Test CustomAppProxy Class\n(function () {\n  // Simulate Form Data\n  var data = {\n    username: 'DevCoder',\n    email: 'hello@bluedgeusa.com'\n  };\n\n  // HTML elements\n  var jsonTest = document.getElementById('jsonTest');\n  var liquidTest = document.getElementById('liquidTest');\n\n  // Call API thru the shopify Proxy\n  var proxyJSON = window.bluedgeusa.theme.CustomAppProxy.customAppEndpoint('test', 'POST', data);\n  proxyJSON.then(function (r) {\n    return jsonTest.innerHTML = \"JSON Test - Shop ID: \".concat(r.id);\n  })[\"catch\"](function (err) {\n    return console.error(err);\n  });\n\n  // Call API thru the shopify Proxy\n  var proxyLIQUID = window.bluedgeusa.theme.CustomAppProxy.customAppEndpoint('liquid', 'GET', null, {\n    'Content-Type': 'text/html',\n    'Accept': 'text/html'\n  });\n  proxyLIQUID.then(function (r) {\n    return liquidTest.innerHTML = \"LIQUID Test - Shop ID: \".concat(r);\n  })[\"catch\"](function (err) {\n    return console.error(err);\n  });\n})();\n\n//# sourceURL=webpack://starter-kit-2022/./src/scripts/proxy.js?")},"./src/scripts/sections/CustomAppProxy.class.js":()=>{eval('function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n/**\r\n * Proxy Access between Frontend / Custom App\r\n * Class meant to be used in Shopify Theme.\r\n * \r\n * Usage: \r\n * const proxy = theme.CustomAppProxy.customAppEndpoint(\'test\', \'POST\', data);\r\n * proxy\r\n * \t\t.then(r => console.log(r))\r\n * \t\t.catch(err => console.error(err)); \r\n */\n\nvar proxyPath = \'/apps/front/\';\nvar CustomAppProxy = /*#__PURE__*/function () {\n  function CustomAppProxy() {\n    _classCallCheck(this, CustomAppProxy);\n  }\n  _createClass(CustomAppProxy, null, [{\n    key: "customAppEndpoint",\n    value:\n    /**\r\n     * Custom App Endpoint\r\n     * @param {String} endpoint\r\n     * @param {String} method (optional. default: GET)\r\n     * @param {Object} data (optional)\r\n     * @param {Object} header (optional)\r\n     * @return {Object}\r\n     */\n    function customAppEndpoint(endpoint) {\n      var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'GET\';\n      var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      try {\n        if (!endpoint) throw Error(\'customAppEndpoint:Missing endpoint\');\n        var uri = "".concat(proxyPath).concat(endpoint);\n        var settings = {\n          method: method.toUpperCase()\n        };\n\n        // Add Headers if specified\n        if (headers) settings.headers = headers;\n\n        // Specific Settings\n        if (data) settings.body = data;\n\n        // FETCH\n        return new Promise(function (resolve, reject) {\n          fetch(uri, settings).then(function (r) {\n            // Handle json / html\n            var type = r.headers.get(\'Content-Type\');\n            if (type === \'text/html\') return r.text();else return r.json();\n          }).then(function (r) {\n            return resolve(r);\n          })["catch"](function (err) {\n            return reject(err);\n          });\n        });\n      } catch (err) {\n        console.log("CustomAppProxy::customAppEndpoint:".concat(err.message));\n      }\n    }\n  }]);\n  return CustomAppProxy;\n}(); // Export\nwindow.bluedgeusa.theme.CustomAppProxy = CustomAppProxy;\n\n//# sourceURL=webpack://starter-kit-2022/./src/scripts/sections/CustomAppProxy.class.js?')}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];if(void 0!==r)return r.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(r,{a:r}),r},__webpack_require__.d=(e,r)=>{for(var t in r)__webpack_require__.o(r,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},__webpack_require__.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/scripts/proxy.js")})();